{"version":3,"sources":["../../src/pages/addstory/health-journey/health-journey.module.ts","../../src/pages/addstory/health-journey/health-journey.ts"],"names":[],"mappings":"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","file":"25.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { HealthJourneyPage } from './health-journey';\n\n@NgModule({\n  declarations: [\n    HealthJourneyPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(HealthJourneyPage),\n  ],\t\n  exports: [HealthJourneyPage]\n  \n})\nexport class HealthJourneyModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addstory/health-journey/health-journey.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, LoadingController } from 'ionic-angular';\nimport { ActionSheetController, ModalController } from 'ionic-angular';\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { Storage } from '@ionic/storage';\nimport { UserCommonServices } from '../../../providers/usercommon-services';\nimport { InterestnPassionService } from '../../../providers/WebServices/LifeStory/InterestnPassionService';\nimport { SharedTaskProvider } from '../../../providers/SharedTask/sharedtask';\nimport { AlertServiceProvider } from '../../../providers/alert-service/alert-service';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-health-journey',\n  templateUrl: 'health-journey.html',\n})\nexport class HealthJourneyPage {\n\n  nextPage: any = 0;\n  healthForm: FormGroup;\n  helthJourney: any[];\n  ownerId: any = 0;\n  userName = '';\n  isDataFound: boolean = false;\n  lifeStoryData: any = {};\n\n  //change\n  isProfile: boolean;\n  healthData: any;\n  healthDataObj: any;\n  urnType: any = 0;\n  ownerName:string;\n  \n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public modalCtrl: ModalController,\n    public viewCtrl: ViewController,\n    public actionSheetCtrl: ActionSheetController,\n    public alertServiceProvider: AlertServiceProvider,\n    public loadingCtrl: LoadingController,\n    public commonServices: UserCommonServices,\n    public interestnPassion: InterestnPassionService,\n    public storage: Storage,\n    public sharedTaskProvider: SharedTaskProvider\n\n  ) {\n    this.ownerId = navParams.data.ownerId;\n    this.isProfile = navParams.data.isProfile;\n    this.urnType = navParams.data.urnType;\n    this.ownerName = navParams.data.ownerName;\n\n    console.log(\"isProfile= \", this.isProfile);\n    console.log(\"ownerId= \", this.ownerId);\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad HealthJourneyPage');\n\n    // if (this.isProfile) {\n    this.healthJourney();\n    // }\n\n    this.lifeStoryData = JSON.parse(localStorage.getItem(\"lifeStoryData\"));\n  }\n\n\n\n  dismiss() {\n    if (this.isProfile) {\n      this.viewCtrl.dismiss();\n    } else {\n      this.navCtrl.popToRoot();\n    }\n  }\n\n  presentActionSheet(helthData, index) {\n    // console.log(id);\n    let actionSheet = this.actionSheetCtrl.create({\n\n      buttons: [\n        {\n          text: 'Modify',\n          handler: () => {\n            console.log('Modify... ');\n\n            let modal = this.modalCtrl.create(\"AddHealthJourneyPage\", { ownerId: this.ownerId, helthData: helthData, urnType: this.urnType });\n            modal.onDidDismiss(data => {\n              console.log(data);\n              console.log(index);\n\n              if (data === undefined) {\n                console.log(\"Undefinde and return\");\n                return;\n              }\n\n              let updatedHelth =\n                {\n                  \"id\": data.healths[0].healthId,\n                  \"title\": data.healths[0].title,\n                  \"description\": data.healths[0].description,\n                  \"age\": data.healths[0].age,\n                  \"active\": this.healthData[index].active\n                }\n              this.healthData[index] = updatedHelth;\n            });\n            modal.present();\n          }\n        },\n        {\n          text: 'Delete',\n          role: 'destructive',\n          handler: () => {\n            console.log('Deleting... ');\n            this.alertServiceProvider.presentLogOutAlert('Are you sure want to delete?').then((yes) => {\n              if (yes) {\n                console.log(\"Yes\");\n                this.deleteHelthJourney(helthData.id, index);\n              } else {\n                console.log(\"No\");\n              }\n            });\n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        }\n      ]\n    });\n    actionSheet.present();\n  }\n\n\n  doInfinite(infiniteScroll) {\n\n    if (this.nextPage > 0) {\n\n      this.storage.get(\"userData\").then((result) => {\n        this.userName = result.userInfoModel.userName;\n        var params =\n          {\n            userId: result.userInfoModel.userId,\n            ownerId: this.ownerId,\n            page: this.nextPage,\n            size: '10'\n          }\n        this.interestnPassion.fetchHealthJourney(params)\n          .then(data => {\n            infiniteScroll.complete();\n            this.healthDataObj = data;\n            if (Object.keys(this.healthDataObj.contentList).length > 0) {\n\n              for (let i = 0; i < this.healthDataObj.contentList.length; i++) {\n                this.healthData.push(this.healthDataObj.contentList[i]);\n              }\n              this.nextPage = this.healthDataObj.nextPage;\n            } else {\n              this.healthData = {};\n              this.isDataFound = true;\n              this.sharedTaskProvider.showToastMessage(\"No data found.\");\n            }\n          }, error => {\n            infiniteScroll.complete();\n            console.log(error);\n          });\n      });\n\n    } else {\n      infiniteScroll.complete();\n    }\n  }\n\n  healthJourney() {\n    this.storage.get(\"userData\").then((result) => {\n      this.userName = result.userInfoModel.userName;\n      var params =\n        {\n          userId: result.userInfoModel.userId,\n          ownerId: this.ownerId,\n          page: '1',\n          size: '10'\n        }\n\n      console.log(\"params====== \", params);\n      ////debugger;\n      this.interestnPassion.fetchHealthJourney(params)\n        .then(data => {\n\n          this.healthDataObj = data;\n          if (Object.keys(this.healthDataObj.contentList).length > 0) {\n            this.healthData = this.healthDataObj.contentList;\n            this.nextPage = this.healthDataObj.nextPage;\n\n\n            console.log(\"\\n\\nthis.nextPage:\");\n            console.log(this.nextPage);\n          } else {\n            this.healthData = {};\n            this.isDataFound = true;\n            this.sharedTaskProvider.showToastMessage(\"No data found.\");\n          }\n        }, error => {\n          ////debugger;\n          console.log(error);\n        });\n    });\n\n  }\n\n  deleteHelthJourney(helthId, index) {\n    console.log(helthId);\n    this.storage.get(\"userData\").then((result) => {\n      this.userName = result.userInfoModel.userName;\n      var params =\n        {\n          userId: result.userInfoModel.userId,\n          ownerId: this.ownerId,\n          healthId: helthId\n        };\n\n      this.interestnPassion.deleteHealthJourney(params)\n        .then(data => {\n          console.log(data);\n\n          //Remove data from array\n          this.healthData.splice(index, 1);\n          if (Object.keys(this.healthDataObj.contentList).length > 0) {\n          } else {\n            this.isDataFound = true;\n          }\n        }, error => {\n          console.log(error);\n        });\n    });\n\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addstory/health-journey/health-journey.ts"],"sourceRoot":""}