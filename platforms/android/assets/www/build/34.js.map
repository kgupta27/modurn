{"version":3,"sources":["../../src/pages/addstory/add-health-journey/add-health-journey.module.ts","../../src/pages/addstory/add-health-journey/add-health-journey.ts"],"names":[],"mappings":"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","file":"34.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddHealthJourneyPage } from './add-health-journey';\n\n@NgModule({\n  declarations: [\n    AddHealthJourneyPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddHealthJourneyPage),\n  ],\t\n  exports: [AddHealthJourneyPage]\n  \n})\nexport class AddHealthJourneyModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addstory/add-health-journey/add-health-journey.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ModalController, LoadingController, ViewController } from 'ionic-angular';\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { HealthJourneyModule } from '../health-journey/health-journey.module';\nimport { Storage } from '@ionic/storage';\nimport { UserCommonServices } from '../../../providers/usercommon-services';\nimport { NUMBER_REGES, WITHOUT_FIRST_REGES_SPECIAL, TEXT_REGES, WITHOUT_FIRST_REGES } from '../../../Utility/Constant';\nimport { ToastServiceProvider } from '../../../providers/toast-service/toast-service';\nimport { Keyboard } from '@ionic-native/keyboard';\nimport { LifeStoryService } from '../../../providers/WebServices/LifeStory/LifeStoryService';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-add-health-journey',\n  templateUrl: 'add-health-journey.html',\n})\nexport class AddHealthJourneyPage {\n\n  healthForm: FormGroup;\n  isValid: boolean = false;\n  isValidAge: boolean = false;\n  ownerId: any = 0;\n  helthData: any = {};\n  isNotEmpty: boolean = false;\n  urnType:any = 0;\n  ownerName:string;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private fb: FormBuilder,\n    public modalCtrl: ModalController,\n    public loadingCtrl: LoadingController,\n    public commonServices: UserCommonServices,\n    public storage: Storage,\n    private viewController: ViewController,\n    public lifeStoryService: LifeStoryService,\n    public toastCtrl: ToastServiceProvider,\n    public viewCtrl: ViewController,\n    private keyboard: Keyboard,\n  ) {\n    this.healthForm = fb.group({\n      'title': [null, [Validators.required, Validators.pattern(WITHOUT_FIRST_REGES_SPECIAL)]],\n      'age': [null, [Validators.required, Validators.pattern(NUMBER_REGES)]],\n      'desc': [null, [Validators.required, Validators.pattern(WITHOUT_FIRST_REGES_SPECIAL)]]\n    });\n\n    console.log(navParams.data);\n    \n    this.ownerId = navParams.data.ownerId;\n    this.helthData = navParams.data.helthData;\n    this.urnType = navParams.data.urnType;\n    this.ownerName = navParams.data.ownerName;\n\n    console.log(\"add health journey: \", this.urnType);\n    if (typeof this.helthData === 'undefined'){\n      this.helthData = {};\n    }\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AddHealthJourneyPage');\n    if (Object.keys(this.helthData).length > 0) {\n      // console.log(this.helthData);\n      this.isNotEmpty = true;\n      this.healthForm.controls['title'].setValue(this.helthData.title);\n      this.healthForm.controls['age'].setValue(this.helthData.age);\n      this.healthForm.controls['desc'].setValue(this.helthData.description);\n    } else {\n      console.log(\"No data\");\n    }\n  }\n\n  closeHealthJourney() {\n    this.keyboard.close();\n    this.navCtrl.pop();\n    // this.viewCtrl.dismiss(selectionRelationship);\n  }\n\n  addHealthJourney(healthFormData) {\n    this.isValid = true;\n    \n    if (this.healthForm.valid) {\n      this.isValid = false;\n\n      this.storage.get(\"userData\").then((result) => {\n        if (result) {\n\n          if (!this.isNotEmpty) {\n            console.log(\"Call POST\");\n\n            let helthData = {\n              \"healths\": [\n                {\n                  \"age\": healthFormData.age,\n                  \"description\": healthFormData.desc,\n                  \"title\": healthFormData.title\n                }\n              ],\n              userId: result.userInfoModel.userId,\n              ownerId: this.ownerId,\n            }\n            console.log(helthData);\n            this.lifeStoryService.addHelthJourney(helthData)\n              .then(data => {\n                console.log('helth data =', data);\n\n                let helthDataObject: any;\n                helthDataObject = data;\n                if (helthDataObject.responseCode == '200' ) {\n\n                  this.toastCtrl.create(helthDataObject.data);\n                  let modal = this.modalCtrl.create(\"HealthJourneyPage\", { ownerId: this.ownerId, urnType:this.urnType, ownerName:this.ownerName });\n                  modal.present();\n                }\n              }, error => {\n                console.log(error);\n              });\n\n          } else {\n            console.log(\"Call PUT\");\n            \n            let helthData = {\n              \"healths\": [\n                {\n                  \"age\": healthFormData.age,\n                  \"description\": healthFormData.desc,\n                  \"title\": healthFormData.title,\n                  \"healthId\": this.helthData.id,\n                }\n              ],\n              userId: result.userInfoModel.userId,\n              ownerId: this.ownerId,\n            }\n            \n            this.lifeStoryService.putHelthJourney(helthData)\n              .then(data => {\n                console.log('helth data =', data);\n                \n                let helthDataObject: any;\n                helthDataObject = data;\n                this.toastCtrl.create(helthDataObject.data);\n                \n                this.viewCtrl.dismiss(helthData);\n\n              }, error => {\n                console.log(error);\n              });\n          }\n\n        }\n      });\n\n    } else {\n      this.isValid = true;\n      console.log(\"False\");\n    }\n  }\n\n  isAgeChanged(searchValue: string) {\n    console.log(searchValue);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addstory/add-health-journey/add-health-journey.ts"],"sourceRoot":""}