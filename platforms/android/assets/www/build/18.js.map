{"version":3,"sources":["../../src/pages/lifestory/lifeStoryCreation/new-life-storie3/new-life-storie3.module.ts","../../src/pages/lifestory/lifeStoryCreation/new-life-storie3/new-life-storie3.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAyC;AACO;AACQ;AAaxD;IAAA;IAAmC,CAAC;IAAvB,oBAAoB;QAVhC,uEAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,6EAAkB;aACnB;YACD,OAAO,EAAE;gBACP,sEAAe,CAAC,QAAQ,CAAC,6EAAkB,CAAC;aAC7C;YACD,OAAO,EAAE,CAAC,6EAAkB,CAAC;SAE9B,CAAC;OACW,oBAAoB,CAAG;IAAD,2BAAC;CAAA;AAAH;;;;;;;;;;;;;;;;;;;;;;;;;;ACfgC;AACsC;AAC/C;AAGf;AAC2B;AACqB;AACd;AAQ3E;IAgBE,4BACS,OAAsB,EACtB,SAAoB,EACpB,WAA8B,EAC9B,SAA+B,EAC/B,GAAkB,EAClB,QAAkB,EAClB,SAA0B,EAC1B,OAAgB,EAChB,WAAwB,EACvB,EAAe;QAThB,YAAO,GAAP,OAAO,CAAe;QACtB,cAAS,GAAT,SAAS,CAAW;QACpB,gBAAW,GAAX,WAAW,CAAmB;QAC9B,cAAS,GAAT,SAAS,CAAsB;QAC/B,QAAG,GAAH,GAAG,CAAe;QAClB,aAAQ,GAAR,QAAQ,CAAU;QAClB,cAAS,GAAT,SAAS,CAAiB;QAC1B,YAAO,GAAP,OAAO,CAAS;QAChB,gBAAW,GAAX,WAAW,CAAa;QACvB,OAAE,GAAF,EAAE,CAAa;QArBzB,WAAM,GAAY,KAAK,CAAC;QAExB,YAAO,GAAY,KAAK,CAAC;QACzB,gBAAW,GAAY,KAAK,CAAC;QAC7B,aAAQ,GAAW,EAAE,CAAC;QACtB,WAAM,GAAQ,CAAC,CAAC;QAEhB,WAAM,GAAY,KAAK,CAAC;QAgBtB,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;QACnB,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,IAAI,CAAC,QAAQ,CAAC;QACxC,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,IAAI,CAAC,CAAC;QAC5B,WAAW;QACX,EAAE,CAAC,CAAC,OAAO,SAAS,CAAC,IAAI,CAAC,IAAI,IAAI,WAAW,CAAC,CAAC,CAAC;YAC9C,IAAI,CAAC,aAAa,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,aAAa,CAAC;YACvD,OAAO,CAAC,GAAG,CAAC,MAAM,GAAG,IAAI,CAAC,aAAa,CAAC,CAAC;YACzC,IAAI,CAAC,MAAM,GAAG,SAAS,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC;YACzC,OAAO,CAAC,GAAG,CAAC,KAAK,GAAG,IAAI,CAAC,MAAM,CAAC,CAAC;QACnC,CAAC;QAID,IAAI,CAAC,aAAa,GAAG,EAAE,CAAC,KAAK,CAAC;YAC5B,6DAA6D;YAC7D,KAAK,EAAE,CAAC,IAAI,CAAC;YACb,4DAA4D;YAC5D,KAAK,EAAE,CAAC,IAAI,EAAE,kEAAU,CAAC,OAAO,CAAC,sFAA2B,CAAC,CAAC;YAC9D,SAAS,EAAE,CAAC,IAAI,EAAE,CAAC,kEAAU,CAAC,QAAQ,EAAE,kEAAU,CAAC,OAAO,CAAC,sFAA2B,CAAC,CAAC,CAAC;SAC1F,CAAC,CAAC;QACH,WAAW;QACX,kDAAkD;QAClD,6BAA6B;QAC7B,IAAI;IACN,CAAC;IAED,2CAAc,GAAd;QACE,OAAO,CAAC,GAAG,CAAC,0BAA0B,CAAC,CAAC;QACxC,iDAAiD;QACjD,IAAI,KAAK,GAAG,IAAI,IAAI,EAAE,CAAC;QACvB,IAAI,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC,KAAK,CAAC,OAAO,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QACjD,IAAI,EAAE,GAAG,CAAC,GAAG,GAAG,CAAC,KAAK,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,eAAe;QAClE,IAAI,IAAI,GAAG,KAAK,CAAC,WAAW,EAAE,CAAC;QAC/B,OAAO,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;QAChB,IAAI,CAAC,OAAO,GAAG,IAAI,GAAG,GAAG,GAAG,EAAE,GAAG,GAAG,GAAG,EAAE,CAAC;QAG1C,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,CAAC;YAChB,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YACpC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,CAAC;YACvE,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,CAAC;YAC7E,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,QAAQ,CAAC,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,CAAC;QACtF,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,OAAO,CAAC,GAAG,CAAC,SAAS,CAAC,CAAC;QACzB,CAAC;IAEH,CAAC;IAGD,2CAAc,GAAd,UAAe,SAAS;QAAxB,iBAwEC;QAvEC,UAAU;QACV,OAAO,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAC3B,0BAA0B;QAC1B,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC;QACpB,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;YAClB,IAAI,IAAI,GAAG,IAAI,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YACnC,SAAS,CAAC,GAAG,GAAG,IAAI,CAAC,WAAW,EAAE,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,QAAQ,EAAE,GAAG,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,GAAG,GAAG,GAAG,CAAC,GAAG,GAAG,CAAC,IAAI,CAAC,OAAO,EAAE,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC;QAChI,CAAC;QAED,EAAE,CAAC,CAAC,SAAS,CAAC,GAAG,GAAG,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YACjC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC;YACxB,OAAO,CAAC,GAAG,CAAC,eAAe,EAAE,IAAI,CAAC,WAAW,CAAC,CAAC;YAC/C,uDAAuD;YACvD,MAAM,CAAC;QACT,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,WAAW,GAAG,KAAK,CAAC;QAC3B,CAAC;QAED,8JAA8J;QAE9J,+DAA+D;QAC/D,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,SAAS,CAAC,CAAC,KAAK,IAAI,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC;YAC7F,OAAO,CAAC,GAAG,CAAC,4BAA4B,EAAE,IAAI,CAAC,aAAa,CAAC,CAAC;YAC9D,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;YACrB,OAAO,CAAC,GAAG,CAAC,mBAAmB,GAAG,SAAS,CAAC,GAAG;gBAC7C,gBAAgB,GAAG,SAAS,CAAC,GAAG;gBAChC,mBAAmB,GAAG,SAAS,CAAC,OAAO,CAAC,CAAC;YAE3C,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC,IAAI,CAAC,UAAC,MAAM;gBACvC,EAAE,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;oBACX,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,aAAa,CAAC,CAAC;oBAClC,KAAI,CAAC,MAAM,GAAG,MAAM,CAAC,aAAa,CAAC,MAAM,CAAC;oBAC1C,KAAI,CAAC,QAAQ,GAAG,MAAM,CAAC,aAAa,CAAC,QAAQ,CAAC;oBAC9C,IAAI,IAAI,GAAG,EAAE,CAAC;oBACd,EAAE,CAAC,CAAC,KAAI,CAAC,MAAM,CAAC,CAAC,CAAC;wBAChB,IAAI,GAAG;4BACL,OAAO,EAAE,IAAI;4BACb,QAAQ,EAAE,KAAI,CAAC,QAAQ;4BACvB,OAAO,EAAE,KAAI,CAAC,aAAa,CAAC,OAAO;4BACnC,SAAS,EAAE,KAAI,CAAC,QAAQ;4BACxB,OAAO,EAAE,KAAI,CAAC,aAAa,CAAC,OAAO;4BACnC,YAAY,EAAE,CAAC;4BACf,WAAW,EAAE,SAAS,CAAC,GAAG;4BAC1B,YAAY,EAAE,SAAS,CAAC,GAAG;4BAC3B,eAAe,EAAE,SAAS,CAAC,OAAO;4BAClC,YAAY,EAAE,KAAI,CAAC,aAAa,CAAC,YAAY;4BAC7C,oBAAoB,EAAE,KAAI,CAAC,aAAa,CAAC,oBAAoB;yBAC9D;oBACH,CAAC;oBAAC,IAAI,CAAC,CAAC;wBACN,IAAI,GAAG;4BACL,OAAO,EAAE,IAAI;4BACb,QAAQ,EAAE,KAAI,CAAC,QAAQ;4BACvB,sCAAsC;4BACtC,SAAS,EAAE,KAAI,CAAC,QAAQ;4BACxB,OAAO,EAAE,EAAE;4BACX,YAAY,EAAE,CAAC;4BACf,WAAW,EAAE,SAAS,CAAC,GAAG;4BAC1B,YAAY,EAAE,SAAS,CAAC,GAAG;4BAC3B,eAAe,EAAE,SAAS,CAAC,OAAO;yBAEnC;oBACH,CAAC;oBACD,qBAAqB;oBACrB,KAAI,CAAC,OAAO,CAAC,IAAI,CAAC,oBAAoB,EAAE,EAAE,aAAa,EAAE,IAAI,EAAE,MAAM,EAAE,KAAI,CAAC,MAAM,EAAE,CAAC,CAAC;gBACxF,CAAC;gBAAC,IAAI,CAAC,CAAC;oBACN,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,CAAC;gBAC/B,CAAC;YACH,CAAC,CAAC,CAAC;QACL,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC;QACvB,CAAC;IACH,CAAC;IArJU,kBAAkB;QAJ9B,wEAAS,CAAC;YACT,QAAQ,EAAE,uBAAuB;WACG;SACrC,CAAC;6EAkB+B;YACX,wEAAS;YACP,oGAAiB;YACnB,qEAAoB;YAC1B,gEAAa;YACR,sEAAQ;YACP,gEAAe;YACjB,8EAAO;YACH,mEAAW;YACnB,WAAW;OA1Bd,kBAAkB,CAsJ9B;IAAD,CAAC;AAAA;SAtJY,kBAAkB,iB","file":"18.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { NewLifeStorie3Page } from './new-life-storie3';\n\n\n@NgModule({\n  declarations: [\n    NewLifeStorie3Page,\n  ],\n  imports: [\n    IonicPageModule.forChild(NewLifeStorie3Page),\n  ],\t\n  exports: [NewLifeStorie3Page]\n  \n})\nexport class NewLifeStorie3Module {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lifestory/lifeStoryCreation/new-life-storie3/new-life-storie3.module.ts","import { Component, ViewChild, ElementRef } from '@angular/core';\nimport { AlertController, LoadingController, NavController, NavParams, Platform, IonicPage } from 'ionic-angular';\nimport { Geolocation } from '@ionic-native/geolocation';\nimport { NewLifeStorie5Module } from '../new-life-storie5/new-life-storie5.module';\nimport { Observable } from 'rxjs/Observable';\nimport { Storage } from '@ionic/storage';\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { ToastServiceProvider } from '../../../../providers/toast-service/toast-service';\nimport { WITHOUT_FIRST_REGES_SPECIAL } from '../../../../Utility/Constant';\n\ndeclare var google: any;\n@IonicPage()\n@Component({\n  selector: 'page-new-life-storie3',\n  templateUrl: 'new-life-storie3.html',\n})\nexport class NewLifeStorie3Page {\n  lifeStoryForm: FormGroup;\n  loading: any;\n  userType: any;\n  maxDate: any;\n  search: boolean = false;\n  error: any;\n  isValid: boolean = false;\n  isValidDate: boolean = false;\n  userName: string = '';\n  userid: any = 0;\n  LifeStoryData: any;\n  isEdit: boolean = false;\n\n  progress: any;\n  dob: any;\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public loadingCtrl: LoadingController,\n    public toastCtrl: ToastServiceProvider,\n    public nav: NavController,\n    public platform: Platform,\n    public alertCtrl: AlertController,\n    public storage: Storage,\n    public geolocation: Geolocation,\n    private fb: FormBuilder\n  ) {\n    this.progress = 75;\n    this.userType = navParams.data.userType;\n    console.log(navParams.data);\n    //debugger;\n    if (typeof navParams.data.data != 'undefined') {\n      this.LifeStoryData = navParams.data.data.LifestoryData;\n      console.log(\"    \" + this.LifeStoryData);\n      this.isEdit = navParams.data.data.isEdit;\n      console.log(\"   \" + this.isEdit);\n    }\n\n\n\n    this.lifeStoryForm = fb.group({\n      // 'dob': [null, Validators.compose([Validators.required])], \n      'dob': [null],\n      // 'pob': [null, Validators.compose([Validators.required])],\n      'pob': [null, Validators.pattern(WITHOUT_FIRST_REGES_SPECIAL)],\n      'currLoc': [null, [Validators.required, Validators.pattern(WITHOUT_FIRST_REGES_SPECIAL)]],\n    });\n    //debugger;\n    // if (typeof this.LifeStoryData === 'undefined'){\n    //   this.LifeStoryData = {};\n    // }\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad MyMapPage');\n    // this.searchbar.nativeElement.placeholder = '';\n    var today = new Date();\n    var dd = ('0' + (today.getDate() - 1)).slice(-2);\n    var mm = ('0' + (today.getMonth() + 1)).slice(-2); //January is 0!\n    var yyyy = today.getFullYear();\n    console.log(mm);\n    this.maxDate = yyyy + '-' + mm + '-' + dd;\n\n\n    if (this.isEdit) {\n      console.log(this.LifeStoryData.dob);\n      this.lifeStoryForm.controls['dob'].setValue(this.LifeStoryData.dobISO);\n      this.lifeStoryForm.controls['pob'].setValue(this.LifeStoryData.placeOfBirth);\n      this.lifeStoryForm.controls['currLoc'].setValue(this.LifeStoryData.currentLocation);\n    } else {\n      console.log(\"No data\");\n    }\n\n  }\n\n\n  openStoryPage5(storyData) {\n    //debugger\n    console.log(\"Heloo page4\");\n    // console.log(storyData);\n    this.isValid = true;\n    if (storyData.dob) {\n      let date = new Date(storyData.dob);\n      storyData.dob = date.getFullYear() + '-' + ('0' + (date.getMonth() + 1)).slice(-2) + '-' + ('0' + (date.getDate())).slice(-2);\n    }\n\n    if (storyData.dob > this.maxDate) {\n      this.isValidDate = true;\n      console.log(\"isValidDate: \", this.isValidDate);\n      // this.toastCtrl.create('Date of birth is not valid');\n      return;\n    } else {\n      this.isValidDate = false;\n    }\n\n    // if (storyData.dob != null && storyData.pob != null && storyData.currLoc != null && storyData.dob != \"\" && storyData.pob != \"\" && storyData.currLoc != \"\") {\n\n    // if ( storyData.currLoc != null && storyData.currLoc != \"\") {\n    if (this.lifeStoryForm.controls['currLoc'].valid && this.lifeStoryForm.controls['pob'].valid) {\n      console.log(\"this.lifeStoryForm.valid::\", this.lifeStoryForm);\n      this.isValid = false;\n      console.log(\"True dateofBirth:\" + storyData.dob +\n        \" placeofBirth:\" + storyData.pob +\n        \" currentLocation:\" + storyData.currLoc);\n\n      this.storage.get(\"userData\").then((result) => {\n        if (result) {\n          console.log(result.userInfoModel);\n          this.userid = result.userInfoModel.userId;\n          this.userName = result.userInfoModel.userName;\n          var data = {};\n          if (this.isEdit) {\n            data = {\n              isAlive: true,\n              userType: this.userType,\n              urnType: this.LifeStoryData.urnType,\n              ownerName: this.userName,\n              ownerId: this.LifeStoryData.ownerId,\n              relationShip: 1,\n              dateofBirth: storyData.dob,\n              placeofBirth: storyData.pob,\n              currentLocation: storyData.currLoc,\n              defaultImage: this.LifeStoryData.defaultImage,\n              defaultThumbImage200: this.LifeStoryData.defaultThumbImage200\n            }\n          } else {\n            data = {\n              isAlive: true,\n              userType: this.userType,\n              // urnType:this.LifeStoryData.urnType,\n              ownerName: this.userName,\n              ownerId: '',\n              relationShip: 1,\n              dateofBirth: storyData.dob,\n              placeofBirth: storyData.pob,\n              currentLocation: storyData.currLoc,\n              // defaultThumbImage200:this.LifeStoryData.defaultThumbImage200\n            }\n          }\n          // console.log(data);\n          this.navCtrl.push('NewLifeStorie5Page', { lifeStoryData: data, isEdit: this.isEdit });\n        } else {\n          console.log(\"Not logged in\");\n        }\n      });\n    } else {\n      console.log(\"False\");\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lifestory/lifeStoryCreation/new-life-storie3/new-life-storie3.ts"],"sourceRoot":""}