{"version":3,"sources":["../../src/pages/addstory/add-link/add-link.module.ts","../../src/pages/addstory/add-link/add-link.ts"],"names":[],"mappings":"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","file":"32.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddLinkPage } from './add-link';\n\n@NgModule({\n  declarations: [\n    AddLinkPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddLinkPage),\n  ],\t\n  exports: [AddLinkPage]\n  \n})\nexport class AddLinkModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addstory/add-link/add-link.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, ViewController, Events } from 'ionic-angular';\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { UserCommonServices } from '../../../providers/usercommon-services';\nimport { ConfigProvider } from '../../../providers/config/config';\nimport { Storage } from '@ionic/storage';\nimport { ToastServiceProvider } from '../../../providers/toast-service/toast-service';\nimport { URL, EMAIL_REGES,TEXT_REGES,WITHOUT_FIRST_REGES,WITHOUT_FIRST_REGES_SPECIAL,NUMBER_REGES } from '../../../Utility/Constant';\nimport * as Constant from '../../../Utility/Constant';\nimport { Keyboard } from '@ionic-native/keyboard';\nimport { LifeStoryService } from '../../../providers/WebServices/LifeStory/LifeStoryService';\n\n@IonicPage()\n@Component({\n  selector: 'page-add-link',\n  templateUrl: 'add-link.html',\n})\nexport class AddLinkPage {\n  ownerId: any = 0;\n  urnType:any = 0;\n  isSubmit: boolean = false;\n  mediaData: any = {};\n  addLinkForm: FormGroup;\n  public _baseUrl: any;\n  isNotEmpty: boolean = false;\n  constructor(private keyboard: Keyboard,\n    public lifeStoryService: LifeStoryService,\n    public viewCtrl: ViewController,\n    public toastCtrl: ToastServiceProvider, \n    public commonServices: UserCommonServices, \n    public navCtrl: NavController, \n    public loadingCtrl: LoadingController, \n    public navParams: NavParams, private fb: FormBuilder, private storage: Storage, public configService: ConfigProvider,public events:Events ) \n  {\n    console.log(navParams.data.data);\n    this.ownerId = navParams.data.data.ownerId;\n    this.urnType = navParams.data.data.urnType;\n    \n    //console.log(navParams.data.data.mediaLink.linkId);\n    this._baseUrl = configService.getApiURI();\n    this.addLinkForm = fb.group({\n      'title': [null, [Validators.required, Validators.pattern(WITHOUT_FIRST_REGES_SPECIAL)]],\n      // 'link': [null, Validators.compose([Validators.required, Validators.pattern(URL)])]\n      'link': [null, [Validators.required]]\n    });\n\n    this.mediaData = navParams.data.data.mediaLink;\n    console.log(this.mediaData);\n    if (typeof this.mediaData === 'undefined'){\n      this.mediaData = {};\n  }\n}\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AddLinkPage');\n    if (Object.keys(this.mediaData).length > 0) {\n      // console.log(this.helthData);\n      this.isNotEmpty = true;\n      this.addLinkForm.controls['title'].setValue(this.mediaData.linkTitle);\n      this.addLinkForm.controls['link'].setValue(this.mediaData.linkUrl);\n    } else {\n      console.log(\"No data\");\n    }\n  }\n\n  closeAddLink() {\n    this.keyboard.close();\n    this.viewCtrl.dismiss();\n    \n\n  }\n  addLink(value) {\n    console.log(value);\n    this.isSubmit = true;\n    if (value.title != null && value.title !== undefined && value.title != \"\" && value.link != null && value.link !== undefined && value.link != \"\" && this.addLinkForm.valid) {\n      this.storage.get(\"userData\").then((result) => {\n        if (result) {\n          if (!this.isNotEmpty) {\n            \n            \n          console.log(result);\n          console.log(result.userInfoModel);\n\n          var data =\n            {\n              \"userId\": result.userInfoModel.userId,\n              \"ownerId\": this.ownerId,\n              \"linkTitle\": value.title,\n              \"linkUrl\": value.link,\n            }\n          console.log(data);\n\n          let loader = this.loadingCtrl.create({\n            content: 'Please wait...'\n          });\n          loader.present();\n          this.commonServices.submitData(data,result.token).subscribe(data => {\n            loader.dismiss();\n            // this.navCtrl.pop();\n            this.closeAddLink();\n            this.events.publish(Constant.KEY_NOTIFF.TabSelect,Constant.LifeStoryTab.Media);\n            this.toastCtrl.create(data.data);\n\n\n          }, error => {\n            console.log(error);\n            loader.dismiss();\n            this.toastCtrl.create(error);\n          });\n\n\n        }\n\n        else\n        {\n          console.log(\"Call PUT\");\n          \n          let mediaData = {\n            // \"link\": [\n            //   {\n            //     \"userId\": result.userInfoModel.userId,\n            //     \"ownerId\": this.ownerId,\n            //     \"linkId\":value.linkId,\n            //     \"linkTitle\": value.title,\n            //     \"linkUrl\": value.link,\n            //   }\n            //  ],\n            userId: result.userInfoModel.userId,\n            ownerId: this.ownerId,\n            linkId:this.mediaData.linkId,\n            linkUrl: value.link,\n            linkTitle: value.title,\n          }\n          console.log(\"linkData== \"+mediaData);\n          this.lifeStoryService.putMediaLink(mediaData)\n            .then(data => {\n              console.log('data =', data);\n              let mediaLinkObject: any;\n              mediaLinkObject = data;\n              this.toastCtrl.create(mediaLinkObject.data);\n              \n              this.viewCtrl.dismiss(mediaData);\n\n            }, error => {\n              console.log(error);\n            });\n\n\n        }\n        }\n      })\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addstory/add-link/add-link.ts"],"sourceRoot":""}