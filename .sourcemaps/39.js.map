{"version":3,"sources":["../../src/pages/addstory/add-competitions-training/add-competitions-training.module.ts","../../src/pages/addstory/add-competitions-training/add-competitions-training.ts"],"names":[],"mappings":"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","file":"39.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddCompetitionsTrainingPage } from './add-competitions-training';\n\n@NgModule({\n  declarations: [\n    AddCompetitionsTrainingPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddCompetitionsTrainingPage),\n  ],\t\n  exports: [AddCompetitionsTrainingPage]\n  \n})\nexport class AddCompetitionsTrainingModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addstory/add-competitions-training/add-competitions-training.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, ModalController, LoadingController } from 'ionic-angular';\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { InterestsPassionsPage } from '../interests-passions/interests-passions';\nimport { Storage } from '@ionic/storage';\nimport { UserCommonServices } from '../../../providers/usercommon-services';\nimport { InterestnPassionService } from '../../../providers/WebServices/LifeStory/InterestnPassionService';\nimport { Keyboard } from '@ionic-native/keyboard';\nimport { LifeStoryService } from '../../../providers/WebServices/LifeStory/LifeStoryService';\nimport { SharedTaskProvider } from '../../../providers/SharedTask/sharedtask';\nimport { WITHOUT_FIRST_REGES_SPECIAL } from '../../../Utility/Constant';\nimport { CompetitionsTrainingPageModule } from '../competitions-training/competitions-training.module';\n\n@IonicPage()\n@Component({\n  selector: 'page-add-competitions-training',\n  templateUrl: 'add-competitions-training.html',\n})\nexport class AddCompetitionsTrainingPage {\n\n  competitionsTrainingForm: FormGroup;\n  isValid: boolean = false;\n  ownerId: any = 0;\n  trainingData: any;\n  isNotEmpty: boolean = false;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    public viewCtrl: ViewController,\n    private fb: FormBuilder,\n    public modalCtrl: ModalController,\n    public loadingCtrl: LoadingController,\n    public commonServices: UserCommonServices,\n    public interestPassionService: InterestnPassionService,\n    private keyboard: Keyboard,\n    public lifeStoryService: LifeStoryService,\n    public storage: Storage,\n    public sharedTaskProvider: SharedTaskProvider\n  ) {\n    this.competitionsTrainingForm = fb.group({\n      \"breeder\": [null, Validators.pattern(WITHOUT_FIRST_REGES_SPECIAL)],\n      \"bloodLine\": [null, Validators.pattern(WITHOUT_FIRST_REGES_SPECIAL)],\n      \"training\": [null, Validators.pattern(WITHOUT_FIRST_REGES_SPECIAL)],\n      \"competitions\": [null, Validators.pattern(WITHOUT_FIRST_REGES_SPECIAL)],\n      \"publications\": [null, Validators.pattern(WITHOUT_FIRST_REGES_SPECIAL)],\n      \"achievements\": [null, Validators.pattern(WITHOUT_FIRST_REGES_SPECIAL)],\n      \"accolades\": [null, Validators.pattern(WITHOUT_FIRST_REGES_SPECIAL)]\n    });\n\n    this.ownerId = navParams.data.ownerId;\n    this.trainingData = navParams.data.trainingdata;\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AddCompetitionsTrainingPage');\n    console.log(this.trainingData);\n    if (Object.keys(this.trainingData).length > 0) {\n      console.log(\"Not Blank\");\n      this.isNotEmpty = true;\n    }\n\n    this.competitionsTrainingForm.controls['breeder'].setValue(this.trainingData.breeder);\n    this.competitionsTrainingForm.controls['bloodLine'].setValue(this.trainingData.bloodLine);\n    this.competitionsTrainingForm.controls['training'].setValue(this.trainingData.training);\n    this.competitionsTrainingForm.controls['competitions'].setValue(this.trainingData.competitions);\n    this.competitionsTrainingForm.controls['publications'].setValue(this.trainingData.publications);\n    this.competitionsTrainingForm.controls['achievements'].setValue(this.trainingData.achievements);\n    this.competitionsTrainingForm.controls['accolades'].setValue(this.trainingData.accolades);\n\n\n    //this.competitionsTrainingForm.setValue(this.trainingData);\n  }\n\n  closeCompetitionsTraining() {\n    this.keyboard.close();\n\n    // let modal = this.modalCtrl.create(\"CompetitionsTrainingPage\", {storyData: this.trainingData});\n    // modal.present();\n    this.navCtrl.pop();\n  }\n\n  addCompetitionsTraining(interestPassionFormData) {\n    console.log(interestPassionFormData);\n    var emptyForm: boolean = true;\n\n    if (interestPassionFormData.accolades != null || interestPassionFormData.achievements != null || interestPassionFormData.bloodLine != null || interestPassionFormData.breeder != null || interestPassionFormData.competitions != null || interestPassionFormData.publications != null || interestPassionFormData.training != null) {\n      emptyForm = false;\n    }\n    this.isValid = true;\n    this.keyboard.close();\n\n    // if (interestPassionFormData.breeder != null && interestPassionFormData.breeder !== undefined && interestPassionFormData.breeder != \"\" && interestPassionFormData.bloodLine != null && interestPassionFormData.bloodLine !== undefined && interestPassionFormData.bloodLine != \"\" && interestPassionFormData.training != null && interestPassionFormData.training !== undefined && interestPassionFormData.training != \"\" && interestPassionFormData.competitions != null && interestPassionFormData.competitions !== undefined && interestPassionFormData.competitions != \"\" && interestPassionFormData.publications != null && interestPassionFormData.publications !== undefined && interestPassionFormData.publications != \"\" && interestPassionFormData.achievements != null && interestPassionFormData.achievements !== undefined && interestPassionFormData.achievements != \"\" && interestPassionFormData.accolades != null && interestPassionFormData.accolades !== undefined && interestPassionFormData.accolades != \"\") {\n    //   this.isValid = false;\n    if (!emptyForm) {\n      if (this.competitionsTrainingForm.valid) {\n        this.storage.get(\"userData\").then((result) => {\n          if (result) {\n            // console.log(result.userInfoModel);\n\n            let interestData = {\n              \"userId\": result.userInfoModel.userId,\n              \"ownerId\": this.ownerId,\n              \"breeder\": interestPassionFormData.breeder,\n              \"bloodLine\": interestPassionFormData.bloodLine,\n              \"training\": interestPassionFormData.training,\n              \"competitions\": interestPassionFormData.competitions,\n              \"publications\": interestPassionFormData.publications,\n              \"achievements\": interestPassionFormData.achievements,\n              \"accolades\": interestPassionFormData.accolades\n\n            };\n            console.log(interestData);\n\n            // let loader = this.loadingCtrl.create({\n            //   content: 'Please wait...'\n            // });\n            // loader.present();\n\n            /*setTimeout(() => {\n              loader.dismiss();\n              try { this.closeCompetitionsTraining(); }catch(e){ }\n            }, 5000);*/\n\n            // //debugger;\n            // try{\n\n            if (!this.isNotEmpty) {\n              // console.log(\"Now call POST method.\");\n              // this.commonServices.submitData( interestData, \"api/v1/story/competitionTraining\", result.token).subscribe(data => {\n              //   var careerJson = JSON.parse(data);\n              //   console.log(careerJson);\n              //   loader.dismiss();\n\n              //   if(careerJson.responseCode == '200'){\n              //     this.closeCompetitionsTraining();\n              //     // let modal = this.modalCtrl.create(InterestsPassionsPage, { interestData: interestData });\n              //     // modal.present();\n              //   } else {\n              //     console.log(\"Something went wrong.\");\n              //    }\n              // });\n\n              this.lifeStoryService.postCompetitionnTraining(interestData)\n                .then(data => {\n                  console.log('life story data =', data);\n                  //loader.dismiss();\n                  let trainingObject: any;\n                  trainingObject = data;\n                  if (trainingObject.responseCode == '200') {\n                    // this.closeCompetitionsTraining();\n                    let message = trainingObject.data;\n                    this.sharedTaskProvider.showToastMessage(message);\n\n                    let modal = this.modalCtrl.create(\"CompetitionsTrainingPage\", { storyData: interestData });\n                    modal.present();\n                  }\n\n                }, error => {\n                  console.log(error);\n                });\n            }\n\n\n            else {\n              console.log(\"Now call PUT method.\");\n              interestData['competitionId'] = this.trainingData.competitionId;\n              this.lifeStoryService.fetCompetitionnTraining(interestData)\n                .then(data => {\n                  console.log('life story data =', data);\n                  //loader.dismiss();\n                  let trainingObject: any;\n                  trainingObject = data;\n                  if (trainingObject.responseCode == '200') {\n                    // this.closeCompetitionsTraining();\n                    let message = trainingObject.data;\n                    this.sharedTaskProvider.showToastMessage(message);\n\n\n                    let modal = this.modalCtrl.create(\"CompetitionsTrainingPage\", { storyData: interestData });\n                    modal.present();\n                  }\n\n                }, error => {\n                  console.log(error);\n                });\n\n            }\n\n            // }catch(e){\n            //   loader.dismiss();\n            // }\n          } else {\n            console.log(\"Not logged in\");\n          }\n        });\n\n        // let modal = this.modalCtrl.create(InterestsPassionsPage, { helthJourneyData: interestPassionFormData });\n        // modal.present();\n        // } else {\n        //   this.isValid = true;\n        //   console.log(\"False\");\n        // }\n      }\n    }\n    else {\n      console.log(\"Form is blank\");\n      this.sharedTaskProvider.showToastMessage('Please enter data in any of the above field');\n    }\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addstory/add-competitions-training/add-competitions-training.ts"],"sourceRoot":""}