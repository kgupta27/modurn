{"version":3,"sources":["../../src/pages/addstory/add-image/add-image.module.ts","../../src/components/bg-image-with-loader/bg-image-with-loader.module.ts","../../src/components/bg-image-with-loader/bg-image-with-loader.ts","../../src/pages/addstory/add-image/add-image.ts"],"names":[],"mappings":"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","file":"11.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddImagePage } from './add-image';\nimport {BgImageWithLoaderPageModule } from '../../../components/bg-image-with-loader/bg-image-with-loader.module';\n\n@NgModule({\n  declarations: [\n    AddImagePage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddImagePage),BgImageWithLoaderPageModule\n  ],\t\n  exports: [AddImagePage]\n  \n})\nexport class AddImageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addstory/add-image/add-image.module.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { BgImageWithLoader } from './bg-image-with-loader';\n\n@NgModule({\n  declarations: [\n    BgImageWithLoader\n  ],\n  imports: [\n    IonicPageModule.forChild(BgImageWithLoader),\n  ],\n  exports : [BgImageWithLoader]\n})\nexport class BgImageWithLoaderPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/bg-image-with-loader/bg-image-with-loader.module.ts","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'bg-image-with-loader',\n  templateUrl: 'bg-image-with-loader.html',\n})\nexport class BgImageWithLoader {\n\n  @Input() image: string = '';\n  @Input() type: string = '';\n  @Input() dummyImage: string = 'assets/imgs/human.jpg';\n  @Input() loaderImage: string = 'assets/img/image-loader.svg';\n  isLoaderTimeExpired: boolean = false;\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      if (!this.image) {\n        this.setImage();\n      }\n    }, 500)\n    setTimeout(() => {\n      this.setImage();\n    }, 10000);\n  }\n\n  setImage() {\n    if (this.type == 'pet') {\n      this.loaderImage = 'assets/img/pet.png'\n    } else if (this.type == 'exp') {\n      this.loaderImage = 'assets/img/Experience_Default.png'\n    } else {\n      this.loaderImage = this.dummyImage;\n    }\n    this.isLoaderTimeExpired = true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/bg-image-with-loader/bg-image-with-loader.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController,ActionSheetController, Platform,NavParams, LoadingController,ViewController,Events } from 'ionic-angular';\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { UserCommonServices } from '../../../providers/usercommon-services';\nimport { ConfigProvider } from '../../../providers/config/config';\nimport { Storage } from '@ionic/storage';\nimport { ToastServiceProvider } from '../../../providers/toast-service/toast-service';\nimport { CameraProvider } from '../../../providers/camera/camera';\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer';\n// import { EMAIL_REGES,TEXT_REGES,WITHOUT_FIRST_REGES,WITHOUT_FIRST_REGES_SPECIAL,NUMBER_REGES } from '../../../providers/constants';\nimport { EMAIL_REGES,TEXT_REGES,WITHOUT_FIRST_REGES,WITHOUT_FIRST_REGES_SPECIAL,NUMBER_REGES } from '../../../Utility/Constant';\nimport * as Constant from '../../../Utility/Constant';\nimport { Keyboard } from '@ionic-native/keyboard';\n@IonicPage()\n@Component({\n  selector: 'page-add-image',\n  templateUrl: 'add-image.html',\n})\nexport class AddImagePage {\nownerId:any = 0;\nurnType:any =0;\nisSubmit:boolean = false;\naddLinkForm : FormGroup;\nchosenPicture1: string = \"\";\n isShow: boolean = true;\n//  titleLength: boolean = true;\npublic _baseUrl: any;\n addImgForm : FormGroup;\n  constructor( private keyboard: Keyboard,private transfer: FileTransfer,public cameraProvider: CameraProvider,public platform: Platform,public actionsheetCtrl: ActionSheetController, public viewCtrl: ViewController,public toastCtrl: ToastServiceProvider, public commonServices: UserCommonServices,public navCtrl: NavController,public loadingCtrl: LoadingController, public navParams: NavParams, private fb: FormBuilder,private storage: Storage,public configService: ConfigProvider,public events:Events) {\n    this.ownerId = navParams.data.ownerId;\n    this.urnType = navParams.data.urnType;\n    \n    this._baseUrl = configService.getApiURI();\n       this.addImgForm = fb.group({\n      'title' : [null, [Validators.required,Validators.maxLength(200),Validators.pattern(WITHOUT_FIRST_REGES_SPECIAL)]],     \n      // 'title' : [null, Validators.compose([Validators.required])],     \n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AddImagePage');\n  }\n\n  closeAddImages() {\n    this.keyboard.close();\n    this.navCtrl.pop();\n    \n  }\n  addImage(value){\n    //debugger\n    console.log(value);\n      this.isSubmit = true;\n      if(value.title != null && value.title !== undefined && value.title != \"\" && this.chosenPicture1 !=\"\" && this.addImgForm.valid){\n      this.storage.get(\"userData\").then((result) => {\n        if (result) {\n          console.log(result);\n          console.log(result.userInfoModel);\n\n          var data = \n                  {\n                  \"userId\":result.userInfoModel.userId,\n                  \"ownerId\":this.ownerId,\n                  \"title\":value.title,\n                  }\n          console.log(data);\n\n          let loader = this.loadingCtrl.create({\n            content: 'Please wait...'\n          });\n          loader.present();\n\n          if (this.chosenPicture1 != \"assets/img/icPlusAdd.png\") {\n            this.uploadPicture1(this.chosenPicture1, this.ownerId, value.title).then(data => {\n               loader.dismiss();\n                this.navCtrl.pop();\n\n            }, error => {\n              loader.dismiss();\n              this.toastCtrl.create('Profile pic not uploaded');\n              console.log(error);\n            });\n          }\n\n        //   this.commonServices.submitData( data, \"api/v1/story/mediaLink\", result.token).subscribe(data => {\n        //      loader.dismiss();\n        //   this.navCtrl.pop();\n\n        //   }, error => {\n        //   console.log(error);\n        //    loader.dismiss();\n        //   this.toastCtrl.create(error);\n        // });\n      }\n      })\n    }else{\n      console.log(\"Invalid!!\",this.addImgForm);\n      // console.log(\"++\",this.addImgForm.controls['title'].errors.maxlength.actualLength);\n      // console.log(\"--\",this.addImgForm.controls['title'].errors.maxlength.requiredLength);\n      // if(this.addImgForm.controls['title'].errors.maxlength.actualLength > this.addImgForm.controls['title'].errors.maxlength.requiredLength){\n      //   this.titleLength = false;\n      // }\n      // else {\n      //   this.titleLength = true;\n      // }\n    }\n  }\ngetPicture(i) {\n    // const loading = this.loadingCtrl.create();\n    // loading.present();\n\n    return this.cameraProvider.getPictureFromPhotoLibrary().then(picture => {\n      if (picture) {\n        if (i == 1 || i == '1') {\n          this.chosenPicture1 = picture;\n          this.isShow = false;\n        } \n      }\n      // loading.dismiss();\n    }, error => {\n      alert(error);\n    });\n  }\naddPicture(i) {\n\n    const actionsheet = this.actionsheetCtrl.create({\n      title: 'Upload Picture',\n      buttons: [\n        {\n          text: 'Take Photo',\n          icon: !this.platform.is('ios') ? null : null,\n          handler: () => {\n            this.takePicture(i);\n          }\n        },\n        {\n          text: !this.platform.is('ios') ? 'Choose Existing' : 'Choose Existing',\n          icon: !this.platform.is('ios') ? null : null,\n          handler: () => {\n            this.getPicture(i);\n          }\n        },\n        {\n          text: 'Cancel',\n          icon: !this.platform.is('ios') ? null : null,\n          role: 'destructive',\n          handler: () => {\n            console.log('the user has cancelled the interaction.');\n          }\n        }\n      ]\n    });\n    return actionsheet.present();\n  }\n\n  takePicture(i) {\n    const loading = this.loadingCtrl.create();\n\n    loading.present();\n    return this.cameraProvider.getPictureFromCamera().then(picture => {\n      if (picture) {\n        if (i == 1 || i == '1') {\n          this.chosenPicture1 = picture;\n          this.isShow = false;\n        } \n      }\n      loading.dismiss();\n    }, error => {\n      alert(error);\n    });\n  }\n  //  uploadPicture(chosenPicture, ownerId, title?){\n  //    //debugger;\n  //     const fileTransfer: FileTransferObject = this.transfer.create();\n  //     this.storage.get(\"userData\").then((result) => {\n  //       if(result){\n          \n  //         let options: FileUploadOptions = {\n  //           fileKey: 'mediaGallery',\n  //           fileName: 'profile.jpg',\n  //           chunkedMode: false,\n  //           headers: {\n  //             'Content-Type': undefined,\n  //             'Authorization' : result.token\n  //           }\n  //         }\n\n\n  //         var params = {\n  //           userId:result.userInfoModel.userId,\n  //           ownerId:ownerId,\n  //           title:title,\n  //         };\n  //         options.params = params;\n          \n  //         console.log(\"options:\");\n  //         console.log(JSON.stringify(options));\n  //         fileTransfer.upload(chosenPicture, this._baseUrl+'api/v1/story/mediaImage', options)\n  //           .then((data) => {\n  //             // alert(\"success\");\n  //             console.log(data.response);\n  //             // this.toastCtrl.create('Your picture uploaded successfully');\n  //             return true;\n  //           }, (err) => {\n  //             // error\n  //             console.log(err);\n  //             return false;\n  //           });\n  //       } else {\n  //         // return false;\n  //         // this.toastCtrl.create('Something went wrong!');\n  //       }\n\n  //     });\n    \n  // }\n  uploadPicture1(chosenPicture, ownerId,title?) {\n    return new Promise((resolve, reject) => {\n      try {\n        const fileTransfer: FileTransferObject = this.transfer.create();\n        this.storage.get(\"userData\").then((result) => {\n          if (result) {\n\n           let options: FileUploadOptions = {\n            fileKey: 'mediaGallery',\n            fileName: 'profile.jpg',\n            chunkedMode: false,\n            headers: {\n              'Content-Type': undefined,\n              'Authorization' : result.token\n            }\n          }\n\n            // //debugger;\n             var params = {\n            userId:result.userInfoModel.userId,\n            ownerId:ownerId,\n            title:title,\n          };\n            options.params = params;\n\n            console.log(\"options:\");\n            console.log(JSON.stringify(options));\n           fileTransfer.upload(chosenPicture, this._baseUrl+'api/v1/story/mediaImage', options)\n              .then((data) => {\n                resolve('data');\n                this.events.publish(Constant.KEY_NOTIFF.TabSelect,Constant.LifeStoryTab.Media);\n                \n              }, error => {\n                console.log(error);\n                reject(error);\n              });\n          } else {\n            // return false;\n            // this.toastCtrl.create('Something went wrong!');\n          }\n\n        });\n\n      } catch (e) {\n        return reject(e);\n      }\n    });\n    // return Observable.throw(true);\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addstory/add-image/add-image.ts"],"sourceRoot":""}