{"version":3,"sources":["../../src/pages/addstory/add-favorite-charity/add-favorite-charity.module.ts","../../src/pages/addstory/add-favorite-charity/add-favorite-charity.ts"],"names":[],"mappings":"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","file":"36.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddFavoriteCharityPage } from './add-favorite-charity';\n\n@NgModule({\n  declarations: [\n    AddFavoriteCharityPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddFavoriteCharityPage),\n  ],\t\n  exports: [AddFavoriteCharityPage]\n  \n})\nexport class AddFavoriteCharityModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addstory/add-favorite-charity/add-favorite-charity.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, ViewController, ModalController, LoadingController, Events } from 'ionic-angular';\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { CareerAcademicPage } from '../career-academic/career-academic';\nimport { Storage } from '@ionic/storage';\nimport { UserCommonServices } from '../../../providers/usercommon-services';\nimport { URL, WITHOUT_FIRST_REGES_SPECIAL, EMAIL_REGES, TEXT_REGES, WITHOUT_FIRST_REGES, NUMBER_REGES } from '../../../Utility/Constant';\nimport * as Constant from '../../../Utility/Constant';\nimport { Keyboard } from '@ionic-native/keyboard';\nimport { InterestnPassionService } from '../../../providers/WebServices/LifeStory/InterestnPassionService';\n@IonicPage()\n@Component({\n  selector: 'page-add-favorite-charity',\n  templateUrl: 'add-favorite-charity.html',\n})\nexport class AddFavoriteCharityPage {\n  ownerId: any = 0;\n  isSubmit: boolean = false;\n  charityUrlForm: FormGroup;\n  charityUrl: any;\n  ischarityUrl: boolean = false;\n  public _baseUrl: any;\n  constructor(public interestnPassion: InterestnPassionService, private keyboard: Keyboard, public viewCtrl: ViewController, public commonServices: UserCommonServices, public navCtrl: NavController, public loadingCtrl: LoadingController, public navParams: NavParams, private fb: FormBuilder, private storage: Storage, public events: Events) {\n    //debugger\n    if (navParams.data.data == undefined) {\n      this.ownerId = navParams.data.ownerId;\n    } else {\n      this.ownerId = navParams.data.data.ownerId;\n      console.log('charityData  ', navParams.data.data.charityData)\n    }\n    // this._baseUrl = configService.getApiURI();\n    \n    this.charityUrlForm = fb.group({\n      'charityUrl': [null, [Validators.required, Validators.pattern(URL)]],\n\n    });\n  }\n\n  ionViewDidLoad() {\n    this.getCharityUrl();\n    console.log(\"this.navParams.data.data = \", this.navParams.data.data);\n\n    if (this.navParams.data.data != undefined) {\n      console.log(\"yes\");\n      this.charityUrl = this.navParams.data.data.charityData.charityUrl;\n      this.charityUrlForm.controls['charityUrl'].setValue(this.charityUrl);\n      this.ischarityUrl = true;\n    } else {\n      console.log(\"No\");\n    }\n    console.log('ionViewDidLoad addcharityUrl');\n  }\n\n  closeAddLink(charityUrl?) {\n    let data = {\n      charityUrl: charityUrl\n    }\n    this.keyboard.close();\n    if (charityUrl != '' && charityUrl != undefined) {\n      this.viewCtrl.dismiss(data);\n    } else {\n      this.viewCtrl.dismiss();\n    }\n  }\n  addCharityUr(value) {\n    console.log(value);\n    this.isSubmit = true;\n    if (value.charityUrl != null && value.charityUrl !== undefined && value.charityUrl != \"\" && this.charityUrlForm.valid) {\n      this.storage.get(\"userData\").then((result) => {\n        if (result) {\n          console.log(result);\n          console.log(result.userInfoModel);\n          value.charityUrl = this.addhttp(value.charityUrl);\n          var data =\n            {\n              \"userId\": result.userInfoModel.userId,\n              \"ownerId\": this.ownerId,\n              \"charityUrl\": value.charityUrl\n            }\n          console.log(data);\n\n          let loader = this.loadingCtrl.create({\n            content: 'Please wait...'\n          });\n          loader.present();\n          if(this.ischarityUrl == false){\n          this.commonServices.addUpdateCharityUrl(data, result.token).subscribe(data => {\n            loader.dismiss();\n            this.closeAddLink(value.charityUrl);\n\n            //this.events.publish(Constant.KEY_NOTIFF.TabSelect,Constant.LifeStoryTab.Profile);\n\n          }, error => {\n            console.log(error);\n            loader.dismiss();\n            // this.toastCtrl.create(error);\n          });\n        }else{\n          this.commonServices.addUpdateCharityUrl(data, result.token).subscribe(data => {\n            loader.dismiss();\n            this.closeAddLink(value.charityUrl);\n\n            //this.events.publish(Constant.KEY_NOTIFF.TabSelect,Constant.LifeStoryTab.Profile);\n\n          }, error => {\n            console.log(error);\n            loader.dismiss();\n            // this.toastCtrl.create(error);\n          });\n        }\n        }\n      })\n    }\n  }\n  getCharityUrl() {\n\n    this.storage.get(\"userData\").then((result) => {\n\n      var params = {\n        'userId': result.userInfoModel.userId,\n        'ownerId': this.ownerId,\n        'page': '1',\n        'size': '1'\n      };\n\n      this.interestnPassion.fetchFavoriteCharity(params)\n        .then(data => {\n          //debugger\n          // this.charityData = data;\n          console.log(data);\n          this.charityUrl = data;\n          if (this.charityUrl.charityUrl) {\n            this.charityUrlForm.controls['charityUrl'].setValue(this.charityUrl.charityUrl);\n            this.ischarityUrl = true;\n          }else{\n            this.ischarityUrl = false;\n          }\n\n          /*if (this.charityUrl.charityUrl != \"\" ) {\n            \n          }*/\n          \n        }, error => {\n          ////debugger;\n          console.log(error);\n        });\n\n    });\n  }\n addhttp(url) {\n    if (!/^(f|ht)tps?:\\/\\//i.test(url)) {\n       url = \"http://\" + url;\n    }\n    return url;\n }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addstory/add-favorite-charity/add-favorite-charity.ts"],"sourceRoot":""}