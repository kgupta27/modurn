{"version":3,"sources":["../../src/pages/lifestory/life-story/LifeStoryTab/media/media.module.ts","../../src/components/bg-image-with-loader/bg-image-with-loader.module.ts","../../src/components/bg-image-with-loader/bg-image-with-loader.ts","../../src/pages/lifestory/life-story/LifeStoryTab/media/media.ts"],"names":[],"mappings":"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","file":"4.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MediaPage } from './media';\nimport {BgImageWithLoaderPageModule } from '../../../../../components/bg-image-with-loader/bg-image-with-loader.module';\n\n@NgModule({\n  declarations: [\n    MediaPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(MediaPage),BgImageWithLoaderPageModule\n  ],exports: [MediaPage\n    ],\n})\nexport class SecondPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lifestory/life-story/LifeStoryTab/media/media.module.ts","import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { BgImageWithLoader } from './bg-image-with-loader';\n\n@NgModule({\n  declarations: [\n    BgImageWithLoader\n  ],\n  imports: [\n    IonicPageModule.forChild(BgImageWithLoader),\n  ],\n  exports : [BgImageWithLoader]\n})\nexport class BgImageWithLoaderPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/bg-image-with-loader/bg-image-with-loader.module.ts","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'bg-image-with-loader',\n  templateUrl: 'bg-image-with-loader.html',\n})\nexport class BgImageWithLoader {\n\n  @Input() image: string = '';\n  @Input() type: string = '';\n  @Input() dummyImage: string = 'assets/imgs/human.jpg';\n  @Input() loaderImage: string = 'assets/img/image-loader.svg';\n  isLoaderTimeExpired: boolean = false;\n\n  ngAfterViewInit() {\n    setTimeout(() => {\n      if (!this.image) {\n        this.setImage();\n      }\n    }, 500)\n    setTimeout(() => {\n      this.setImage();\n    }, 10000);\n  }\n\n  setImage() {\n    if (this.type == 'pet') {\n      this.loaderImage = 'assets/img/pet.png'\n    } else if (this.type == 'exp') {\n      this.loaderImage = 'assets/img/Experience_Default.png'\n    } else {\n      this.loaderImage = this.dummyImage;\n    }\n    this.isLoaderTimeExpired = true;\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/bg-image-with-loader/bg-image-with-loader.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, Events, Tabs, App, ActionSheetController, ModalController } from 'ionic-angular';\nimport * as Constant from '../../../../../Utility/Constant';\nimport { Storage } from '@ionic/storage';\nimport { LifeStoryService } from '../../../../../providers/WebServices/LifeStory/LifeStoryService';\nimport { GalleryModule } from '../gallery/gallery.module';\nimport { AlertServiceProvider } from '../../../../../providers/alert-service/alert-service';\nimport { InterestnPassionService } from '../../../../../providers/WebServices/LifeStory/InterestnPassionService';\nimport { InAppBrowser } from '@ionic-native/in-app-browser';\nimport { ToastServiceProvider } from '../../../../../providers/toast-service/toast-service';\n\n\n@IonicPage()\n@Component({\n  selector: 'page-media',\n  templateUrl: 'media.html',\n})\nexport class MediaPage {\n  selectedTab: Tabs;\n  ownerID: any = 0;\n  mediaData: any = [];\n  userId: any;\n  userName = '';\n  linkModul: any = [];\n  role: any = 0;\n  album_length: number = 0;\n  count: number = 0;\n  isAlbum: boolean = false; isLinks: boolean = false; isNoData: boolean = false;\n  constructor(\n    public app: App,\n    public navCtrl: NavController,\n    public modalCtrl: ModalController,\n    public actionSheetCtrl: ActionSheetController,\n    public navParams: NavParams,\n    public event: Events,\n    private storage: Storage,\n    public interestnPassion: InterestnPassionService,\n    public alertServiceProvider: AlertServiceProvider,\n    public inAppBrowser: InAppBrowser,\n    public toastProvider: ToastServiceProvider,\n    public lifeStoryService: LifeStoryService) {\n    this.ownerID = navParams.data.ownerId;\n    this.role = navParams.data.roleId;\n    console.log(navParams.data);\n    console.log('lifestorydata =', navParams.data.roleId);\n  }\n\n  ionViewDidLoad() {\n    this.getMedia();\n\n    this.event.subscribe(Constant.KEY_NOTIFF.LifeStoryUpdate, () => {\n      if (this.navCtrl.parent.getSelected().index == 1) {\n        console.log(\"2\");\n        //debugger\n        this.getMedia();\n      }\n    });\n    console.log('ionViewDidLoad SecondPage');\n  }\n\n  ionViewWillEnter()\n  {\n    //debugger\n    this.getMedia();\n    console.log(\"11\");\n  }\n\n  ionViewWillUnload() {\n    this.event.unsubscribe(Constant.KEY_NOTIFF.LifeStoryUpdate);\n  }\n\n  getMedia() {\n    this.storage.get(\"userData\").then((result) => {\n      this.userId = result.userInfoModel.userId;\n      let parms = {\n        'userid': result.userInfoModel.userId,\n        'ownerId': this.ownerID,\n      };\n      this.lifeStoryService.getMediadata(parms)\n        .then(data => {\n          console.log(data);\n          //debugger\n          this.mediaData = data;\n          this.mediaData = this.mediaData.data;\n          this.linkModul = this.mediaData.linkModel;\n          console.log(\"mediaData.imageModel:: \",this.mediaData.imageModel.length);\n          this. album_length = this.mediaData.imageCount;\n          if(this. album_length > 5){\n            this.count = this.album_length - 5;\n          }\n          \n\n          console.log(\" this. album_length\", this. album_length);\n          console.log(\" this. count\", this. count);\n          if (this.mediaData.imageModel.length > 0) {\n            this.isAlbum = true;\n          } if (this.mediaData.linkModel.length > 0) {\n            this.isLinks = true;\n          } if (this.mediaData.imageModel.length == 0 && this.mediaData.linkModel.length == 0) {\n            this.isNoData = true;\n            this.isAlbum = false;\n          }if (this.mediaData.imageModel.length == 0) {\n            this.isAlbum = false;\n           } if (this.mediaData.linkModel.length == 0) {\n            this.isLinks = false;\n          }\n        }, error => {\n          console.log(error);\n        });\n    });\n  }\n  openMediaGallery(index) {\n    let galleryModal = this.modalCtrl.create('GalleryPage', {\n      'imageModel': this.mediaData.imageModel, 'parms': {\n        'userid': this.userId,\n        'ownerId': this.ownerID,\n        'role': this.role\n      }\n    });\n    galleryModal.present();\n    // this.app.getRootNav().push('GalleryPage', {\n    //   'imageModel': this.mediaData.imageModel, 'parms': {\n    //     'userid': this.userId,\n    //     'ownerId': this.ownerID,\n    //   }\n    // });\n  }\n\n  presentActionSheet(mediaLink, index) {\n    console.log(\"mediaData:: \", mediaLink);\n    console.log(\"Index:: \", index);\n    let actionSheet = this.actionSheetCtrl.create({\n\n      buttons: [\n        {\n          text: 'Modify',\n          handler: () => {\n            this.editLink(mediaLink, index);\n          }\n        },\n        {\n          text: 'Delete',\n          role: 'destructive',\n          handler: () => {\n            console.log('Deleting... ');\n            this.alertServiceProvider.presentLogOutAlert('Are you sure want to delete?').then((yes) => {\n              if (yes) {\n                console.log(\"Yes\");\n                this.deleteMediaLink(mediaLink.linkId, index);\n              } else {\n                console.log(\"No\");\n              }\n            });\n          }\n        },\n        {\n          text: 'Cancel',\n          role: 'cancel',\n          handler: () => {\n            console.log('Cancel clicked');\n          }\n        }\n      ]\n    });\n    actionSheet.present();\n  }\n\n\n\n  deleteMediaLink(mediaId, index) {\n    console.log(mediaId);\n    console.log(index);\n    this.storage.get(\"userData\").then((result) => {\n      this.userName = result.userInfoModel.userName;\n      var params =\n        {\n          userId: result.userInfoModel.userId,\n          ownerId: this.ownerID,\n          linkId: mediaId\n        };\n\n      this.interestnPassion.deleteMediaLink(params)\n        .then(data => {\n          console.log(data);\n          // this.mediaData.linkModel.splice();\n          // //Remove data from array\n          console.log(\"Delete at this index: \", index);\n          // console.log(\"Before delete:\", this.mediaData.linkModel);\n          this.linkModul.splice(index, 1);\n          if (this.mediaData.linkModel.length > 0) {\n            this.isLinks = true;\n          } else {\n            this.isLinks = false;\n          }\n          // console.log(\"After delete:\", this.mediaData.linkModel);\n        }, error => {\n          console.log(error);\n        });\n    });\n\n  }\n  editLink(mediaLink, index) {\n    console.log('Modify... ');\n    this.storage.get(\"userData\").then((result) => {\n      let data = {\n        ownerId: this.ownerID,\n        mediaLink: mediaLink,\n        userId: result.userInfoModel.userId,\n        isUpdate: true,\n\n      }\n      let modal = this.modalCtrl.create(\"AddLinkPage\", { data: data });\n      modal.onDidDismiss(data => {\n        console.log(\"Updated Media URL: \", data);\n        this.event.publish(Constant.KEY_NOTIFF.TabSelect, Constant.LifeStoryTab.Media);\n\n        if (data === undefined) {\n          console.log(\"Undefined and return\");\n          return;\n        }\n        console.log(index);\n\n      });\n      modal.present();\n    });\n  }\n  inAppBrowserOpen(link) {\n    console.log(link);\n    var res1 = link.includes(\"https://\");\n    var res2 = link.includes(\"http://\");\n    console.log(res1+\"::\"+res2);\n\n    if(!res1 && !res2)\n    {\n      link=\"https://\"+link;\n    }\n    \n    try {\n      const browser = this.inAppBrowser.create(link, '_blank', 'location=yes');\n\n    }\n    catch (e) {\n      console.log(\"Invalid Url\");\n      this.toastProvider.create(\"Invalid Url\");\n    }\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/lifestory/life-story/LifeStoryTab/media/media.ts"],"sourceRoot":""}