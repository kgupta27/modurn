{"version":3,"sources":["../../src/pages/addstory/add-document/add-document.module.ts","../../src/pages/addstory/add-document/add-document.ts"],"names":[],"mappings":"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","file":"38.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { AddDocumentPage } from './add-document';\n\n@NgModule({\n  declarations: [\n    AddDocumentPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddDocumentPage),\n  ],\n})\nexport class AddDocumentPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addstory/add-document/add-document.module.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, LoadingController, ModalController, Platform, ViewController } from 'ionic-angular';\nimport { Keyboard } from '@ionic-native/keyboard';\nimport { FormGroup, FormBuilder, Validators } from \"@angular/forms\";\nimport { WITHOUT_FIRST_REGES_SPECIAL } from '../../../Utility/Constant';\nimport { FileTransfer, FileUploadOptions, FileTransferObject } from '@ionic-native/file-transfer';\nimport { Storage } from '@ionic/storage';\nimport { ConfigProvider } from '../../../providers/config/config';\nimport { FileChooser } from '@ionic-native/file-chooser';\nimport { ToastServiceProvider } from '../../../providers/toast-service/toast-service';\nimport { DocumentsPageModule } from '../documents/documents.module';\nimport { FilePath } from '@ionic-native/file-path';\nimport { File } from '@ionic-native/file';\n\ndeclare var FilePicker;\n\n@IonicPage()\n@Component({\n  selector: 'page-add-document',\n  templateUrl: 'add-document.html',\n})\nexport class AddDocumentPage {\n\n  ownerId: any = 0;\n  urnType: any = 0;\n  isSubmit: boolean = false;\n  public _baseUrl: any;\n  addDocumentForm: FormGroup;\n  file: any;\n  isValid: boolean = false;\n  fileUpload: string = '';\n\n  constructor(public navCtrl: NavController, public navParams: NavParams,\n    private keyboard: Keyboard, private fb: FormBuilder,\n    public platform: Platform, private transfer: FileTransfer,\n    private storage: Storage, public configService: ConfigProvider,\n    private fileChooser: FileChooser, public toastCtrl: ToastServiceProvider,\n    public modalCtrl: ModalController, public viewCtrl: ViewController,\n    public loadingCtrl: LoadingController, private filePath: FilePath,\n    private files: File) {\n    //debugger;\n    this.ownerId = navParams.data.ownerId;\n    this.urnType = navParams.data.urnType;\n\n    this._baseUrl = configService.getApiURI();\n    this.addDocumentForm = fb.group({\n      'title': [null, [Validators.required, Validators.pattern(WITHOUT_FIRST_REGES_SPECIAL)]],\n    });\n  }\n\n  ionViewDidLoad() {\n    console.log('ionViewDidLoad AddDocumentPage');\n  }\n\n  closeAddDocument() {\n    this.keyboard.close();\n    this.navCtrl.pop();\n  }\n\n  uploadPdf() {\n    //debugger;\n    if (this.platform.is('ios')) {\n      FilePicker.pickFile(function (path) {\n        let fileNameCount = path.lastIndexOf(\"/\");\n        let fileName = path.substr(fileNameCount + 1);\n        let dirPath = path.substr(0, fileNameCount);\n        let directoryPath = \"file:///\" + dirPath;\n        this.getFileSize(directoryPath, fileName).then((nativeURL: string) => {\n          console.log(\"nativeURL\", nativeURL);\n          this.uploadiOS(nativeURL);\n        }).catch(e => {\n          console.log(\"error\", e)\n        })\n\n      }.bind(this), function (err) {\n        console.log(\"error file ios\", err);\n      }.bind(this));\n    } else {\n      this.uploadAndroid();\n    }\n  }\n\n  uploadiOS(filePath) {\n    let loader = this.loadingCtrl.create({\n      content: 'Please wait...'\n    });\n    loader.present();\n    // filePath = \"file://\" + filePath;\n    this.file = filePath;\n    console.log(\"File URL:: \", this.file);\n    this.fileUpload = this.file.substring(this.file.lastIndexOf('/') + 1);\n    this.fileUpload = this.fileUpload.split('%20').join(' ');\n    loader.dismiss();\n    // const fileTransfer: FileTransferObject = this.transfer.create();\n    // this.storage.get(\"userData\").then((result) => {\n    //   if (result) {\n\n    //     let options: FileUploadOptions = {\n    //       fileKey: 'pdfFile ',\n    //       fileName: 'name.pdf',\n    //       headers: {\n    //         'Content-Type': undefined,\n    //         'Authorization': result.token\n    //       },\n    //       params: { \"app_key\": \"Testappkey\" },\n    //       chunkedMode: false,\n\n    //     }\n\n    //     var params = {\n    //       ownerId: this.ownerId,\n    //       title: this.addDocumentForm.value.title,\n    //     };\n\n    //     options.params = params;\n    //     console.log(\"options:\");\n    //     console.log(JSON.stringify(options));\n    //     fileTransfer.upload(filePath, this._baseUrl + 'api/v1/story/pdfFile', options)\n    //       .then((data) => {\n    //         console.log(\"Success!\")\n    //         console.log(data.response);\n    //       }, (err) => {\n    //         console.log(err);\n    //       });\n    //   } else {\n    //     // this.toastCtrl.create('Something went wrong!');\n    //   }\n    // })\n    //   .catch(e => console.log(e));\n  }\n\n  uploadAndroid1() {\n    this.fileChooser.open()\n      .then(uri => {\n        // console.log(uri)\n        this.file = uri;\n        console.log(\"File URL:: \", this.file);\n\n        // const fileTransfer: FileTransferObject = this.transfer.create();\n        // this.storage.get(\"userData\").then((result) => {\n        //   if (result) {\n\n        //     let options: FileUploadOptions = {\n        //       fileKey: 'pdfFile ',\n        //       fileName: 'name.pdf',\n        //       headers: {\n        //         'Content-Type': undefined,\n        //         'Authorization': result.token\n        //       },\n        //       params: { \"app_key\": \"Testappkey\" },\n        //       chunkedMode: false,\n\n        //     }\n\n        //     var params = {\n        //       ownerId: this.ownerId,\n        //       title: this.addDocumentForm.value.title,\n        //     };\n\n        //     options.params = params;\n        //     console.log(\"options:\");\n        //     console.log(JSON.stringify(options));\n        //     fileTransfer.upload(uri, this._baseUrl + 'api/v1/story/pdfFile', options)\n        //       .then((data) => {\n        //         console.log(\"Success!\")\n        //         console.log(data.response);\n        //       }, (err) => {\n        //         console.log(err);\n        //       });\n        //   } else {\n        //     // this.toastCtrl.create('Something went wrong!');\n        //   }\n        // })\n        //   .catch(e => console.log(e));\n      });\n\n  }\n\n  uploadAndroid() {\n    this.fileChooser.open().then(uri => {\n      this.filePath.resolveNativePath(uri)\n        .then(filePath => {\n          var n = filePath.lastIndexOf(\"/\");\n          var directorypath = filePath.substr(0, n);\n          var fileName = filePath.substr(n + 1);\n          this.file = filePath;\n          this.fileUpload = fileName\n          console.log(\"Filename: \", fileName);\n\n        }).catch(err => {\n          // this.uploadedDocuments.splice(id, 1);\n          // this.presentToast(this.documentErrMsg);\n          console.log(\"Error: \", err);\n        });\n    }).catch(err => {\n      console.log(\"Android FilePicker error\", err);\n    });\n  }\n\n  addDocument(value) {\n    this.isValid = true;\n    this.isSubmit = true;\n    //debugger;\n    if (this.file != undefined) {\n      this.isSubmit = false;\n      if (this.addDocumentForm.valid) {\n        this.isValid = false;\n\n        const fileTransfer: FileTransferObject = this.transfer.create();\n        this.storage.get(\"userData\").then((result) => {\n          if (result) {\n            let loader = this.loadingCtrl.create({\n              content: 'Please wait...'\n            });\n            loader.present();\n\n            console.log(\"fileName:: \", this.file.substring(this.file.lastIndexOf('/') + 1));\n            let options: FileUploadOptions = {\n              fileKey: 'pdfFile ',\n              fileName: this.file.substring(this.file.lastIndexOf('/') + 1),\n              headers: {\n                'Content-Type': undefined,\n                'Authorization': result.token\n              },\n              params: { \"app_key\": \"Testappkey\" },\n              chunkedMode: false,\n\n            }\n\n            var params = {\n              ownerId: this.ownerId,\n              title: value.title,\n            };\n\n            options.params = params;\n            console.log(\"options:\");\n            console.log(JSON.stringify(options));\n            fileTransfer.upload(this.file, this._baseUrl + 'api/v1/story/pdfFile', options, true)\n              .then((data) => {\n                console.log(\"Success!\")\n                console.log(data.response);\n                loader.dismiss();\n\n                let documentDataObject: any;\n                documentDataObject = data;\n                if (documentDataObject.responseCode == '200') {\n\n                  this.toastCtrl.create('Document added successfully');\n                  this.closeAddDocument();\n                  // let modal = this.modalCtrl.create(\"DocumentsPage\", { ownerId: this.ownerId, urnType:this.urnType,});\n                  // modal.present();\n                }\n                // this.viewCtrl.dismiss();\n              }, (err) => {\n                loader.dismiss();\n                console.log(err);\n                var m = err.code;\n                console.log(\"m== \", m);\n                if (m == 3) {\n                  this.toastCtrl.create('Either your file format or file size is incorrect.');\n                }\n                else {\n                  var r = JSON.parse(err.body);\n                  console.log(r.message);\n                  this.toastCtrl.create(r.message);\n                }\n\n              });\n          } else {\n            // this.toastCtrl.create('Something went wrong!');\n          }\n        })\n          .catch(e => console.log(e));\n      }\n      else {\n        this.isValid = true;\n        console.log(\"False\");\n      }\n\n    }\n    else {\n      this.isSubmit = true;\n      console.log(\"Missing Document\");\n    }\n  }\n\n  getFileSize(directoryPath, fileName) {\n    return new Promise((resolve, reject) => {\n      this.files.resolveDirectoryUrl(directoryPath).then(directoryObj => {\n        console.log(\"directoryObj\", directoryObj);\n        this.files.getFile(directoryObj, fileName, {}).then(fileEntry => {\n          console.log(\"fileEntry\", fileEntry);\n          resolve(fileEntry.nativeURL);\n        }).catch(err => reject(\"fileSizeError\"));\n      }).catch(err => reject(\"fileSizeError\"));\n    });\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addstory/add-document/add-document.ts"],"sourceRoot":""}